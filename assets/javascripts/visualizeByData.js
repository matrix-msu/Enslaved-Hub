//Maranhao graphs
var bar_ef_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/dcc4ad80-9b99-11ea-ac69-1d41bbb57104?embed=true&_g=(filters:!())";
var bar_ec_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/b0f7a690-aa7f-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var bar_em_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/f1454180-9b9d-11ea-ac69-1d41bbb57104?embed=true&_g=(filters:!())";
var pie_ef_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/44c9dad0-9ba5-11ea-ac69-1d41bbb57104?embed=true&_g=(filters:!())";
var pie_f_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/adba8ce0-aa93-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var pie_ethno_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/3922b880-ab33-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_ps_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/c01f75f0-afff-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_pr_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/e23d5e70-b001-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_ethno_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/ef9257f0-b002-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_age_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/5954b4b0-b005-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_occ_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/977f5be0-b006-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_et_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/fdd9caf0-b007-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_date_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/e09e2930-b008-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_pt_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/9488a9c0-b009-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_mc_Maranhão = "https://kibana.enslaved.org/app/kibana#/visualize/edit/2312e0b0-b00b-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
//Louisiana graphs
var bar_ef_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/a25a3d80-abfd-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var bar_ec_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/0e040270-ac01-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var bar_em_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/addbf210-ac08-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var bar_mf_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/e3241b70-ac10-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var pie_ef_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/c6b88900-ac13-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var pie_f_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/34c6c040-ac16-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var pie_ethno_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/8442e3d0-ab24-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_ps_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/60efaea0-b00f-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_pr_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/69f86300-b011-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_ethno_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/2eea0510-b012-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_age_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/4019ad00-b09d-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_occ_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/bebd6a20-b09d-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_et_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/87cdbc30-b09e-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_date_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/819fe5d0-b09f-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_pt_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/d6a99cb0-b09f-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_mc_Louisiana = "https://kibana.enslaved.org/app/kibana#/visualize/edit/4acf7fb0-b0a0-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
//Voyages
var bar_ef_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/90a24d20-abfe-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var bar_ec_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/a925f2d0-ac02-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var bar_em_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/6af49b40-ac09-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var pie_ef_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/773cad10-ac14-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var pie_f_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/f886e730-ac16-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var pie_ethno_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/374848a0-ab32-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_ps_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/db252b00-b0a5-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_pr_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/e56850a0-b0a6-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_ethno_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/449c6a70-b0a7-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_age_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/e1d3c2c0-b0a7-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_occ_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/ae224fe0-b0a8-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_et_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/c2f32e20-b0a9-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_date_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/49c0ea50-b0aa-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_pt_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/a5503f10-b0aa-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_mc_Voyages = "https://kibana.enslaved.org/app/kibana#/visualize/edit/17a27380-b0ab-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
//Free Blacks
var pie_f_Free = "https://kibana.enslaved.org/app/kibana#/visualize/edit/4d6e21f0-ac17-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var pie_ethno_Free = "https://kibana.enslaved.org/app/kibana#/visualize/edit/9304eef0-ab32-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_ps_Free = "https://kibana.enslaved.org/app/kibana#/visualize/edit/893a3f50-b0b0-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_pr_Free = "https://kibana.enslaved.org/app/kibana#/visualize/edit/3cf55600-b0b2-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_ethno_Free = "https://kibana.enslaved.org/app/kibana#/visualize/edit/b9152760-b0b2-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_age_Free = "https://kibana.enslaved.org/app/kibana#/visualize/edit/f8156e10-b0b3-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_occ_Free = "https://kibana.enslaved.org/app/kibana#/visualize/edit/e4974730-b0b5-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_et_Free = "https://kibana.enslaved.org/app/kibana#/visualize/edit/4068ae00-b0b6-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_date_Free = "https://kibana.enslaved.org/app/kibana#/visualize/edit/2bba6100-b0b7-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_pt_Free = "https://kibana.enslaved.org/app/kibana#/visualize/edit/befec4a0-b0b8-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_mc_Free = "https://kibana.enslaved.org/app/kibana#/visualize/edit/b707aa80-b0ba-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
//All Projects
var bar_ef_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/dadc5e20-af24-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var bar_ec_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/7ea56240-af25-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var bar_em_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/d4e37a70-af25-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var bar_mf_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/bff2f450-af26-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var pie_ef_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/126e90d0-af28-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var pie_f_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/4c3e1b40-af29-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var pie_ethno_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/fa7da680-af29-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_ps_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/7b7fd180-afe4-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_pr_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/b023ef80-afe8-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_ethno_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/2dc3ad90-c065-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_age_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/ce252e60-afeb-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_occ_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/2a2529d0-afed-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_et_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/ebcf16c0-aff4-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_date_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/5c0e97d0-aff5-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_pt_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/5f3fac20-aff8-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_mc_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/6ba6ae10-aff7-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_st_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/bf741ef0-aff8-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_psSex_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/e0255b80-c076-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";
var tab_ethnoSex_All = "https://kibana.enslaved.org/app/kibana#/visualize/edit/42d8bd50-afea-11ea-a46c-a3979884a476?embed=true&_g=(filters:!())";

//Dashboards
var dash_main_All = "https://kibana.enslaved.org/app/kibana#/dashboard/95bfce60-dbf4-11ea-b8f5-e93fc24f4b7d?embed=true&_g=(filters:!())";
var dash_main_Louisiana = "https://kibana.enslaved.org/app/kibana#/dashboard/3354a000-dca5-11ea-b8f5-e93fc24f4b7d?embed=true&_g=(filters:!())";
var dash_main_Maranhão = "https://kibana.enslaved.org/app/kibana#/dashboard/aaff2460-e220-11ea-b8f5-e93fc24f4b7d?embed=true&_g=(filters:!())";
var dash_main_Voyages = "https://kibana.enslaved.org/app/kibana#/dashboard/267b9e30-dcad-11ea-b8f5-e93fc24f4b7d?embed=true&_g=(filters:!())";
var dash_main_Legacies = "https://kibana.enslaved.org/app/kibana#/dashboard/66730960-e180-11ea-b8f5-e93fc24f4b7d?embed=true&_g=(filters:!())";
var dash_main_Hutchins = "https://kibana.enslaved.org/app/kibana#/dashboard/c316dd50-e22e-11ea-b8f5-e93fc24f4b7d?embed=true&_g=(filters:!())";
var dash_main_Free = "https://kibana.enslaved.org/app/kibana#/dashboard/95245570-e62b-11ea-b8f5-e93fc24f4b7d?embed=true&_g=(filters:!())";
var dash_main_Contested = "https://kibana.enslaved.org/app/kibana#/dashboard/27034a40-331c-11eb-9912-5716c793fbae?embed=true&_g=(filters:!())";
var dash_main_Family = "https://kibana.enslaved.org/app/kibana#/dashboard/63095a60-8b1a-11eb-a016-d9899afc47bd?embed=true&_g=(filters:!())";


var concat_url = BASE_URL + "visualizedata";
var url = new URL(concat_url);
var search_params = url.searchParams;

var barFields = {
  'ef': "<option value='ef'>Enslaved Female Records</option>",
  'ec': "<option value='ec'>Enslaved Child Records</option>",
  'em': "<option value='em'>Enslaved Male Records</option>",
  'mf': "<option value='mf'>Master Female Records</option>"
};
var pieFields = {
  'ef': "<option value='ef'>Enslaved Female Records</option>",
  'f': "<option value='f'>Female Records</option>",
  'ethno': "<option value='ethno'>Ethnodescriptor Records</option>"
}
var tabFields = {
  'ps': "<option value='ps'>Person Status</option>",
  'psSex': "<option value='psSex'>Person Status - Sex</option>",
  'pr': "<option value='pr'>Person Role</option>",
  'ethno': "<option value='ethno'>Ethnodescriptor</option>",
  'ethnoSex': "<option value='ethnoSex'>Ethnodescriptor - Sex</option>",
  'age': "<option value='age'>Age</option>",
  'occ': "<option value='occ'>Occupation</option>",
  'et': "<option value='et'>Event Type</option>",
  'date': "<option value='date'>Date</option>",
  'pt': "<option value='pt'>Place Type</option>",
  //'mc': "<option value='mc'>Modern Country</option>",
  'st': "<option value='st'>Source Type</option>",
}
var dashFields = {
  'main': "<option value='main'>Project Overview</option>"
}
var projects = {
  'All': "<option value='All Projects'>All Projects</option>",
  'Louisiana': "<option value='Louisiana Slave Database'>Louisiana Slave Database</option>",
  'Free': "<option value='Free Blacks Database'>Free Blacks Database: New Orleans, 1840-1860</option>",
  'Voyages': "<option value='Voyages: The Trans-Atlantic Slave Trade Database'>Voyages: The Trans-Atlantic Slave Trade Database</option>",
  'Legacies': "<option value='Legacies of British Slave-Ownership'>Legacies of British Slave-Ownership</option>",
  'Hutchins': "<option value='Hutchins Center for African & African American Research'>Hutchins Center for African & African American Research</option>",
  'Maranhão': "<option value='Maranhão Inventories Slave Database'>Maranhão Inventories Slave Database</option>",
  'Contested': "<option value='Contested Freedom'>Contested Freedom</option>",
  'Family': "<option value='Family Search'>Family Search</option>"
}

$(document).ready( function() {
  $('#chart-type').select2({
      placeholder: "Select Chart Type"
  });
  $('#chart-field').select2({
      placeholder: "Select Chart Field"
  });
  $('#chart-project').select2({
      placeholder: "Select Project"
  });
  $('.select2-selection--multiple').append('<span class="select2-selection__arrow" role="presentation"></span>');


  const params = new URLSearchParams(window.location.search);
  if (params.has('type') && params.has('field') && params.has('proj')){
    var type = params.get('type');
    var field = params.get('field');
    var proj = params.get('proj');

    var fig = type.concat("_", field, "_", proj);
    fig = eval('`'+fig+'`');
    $('iframe').attr("src", window[fig]);

    addFieldsT(type, field, proj);
  }
  else{
    addFieldsT($('#chart-type').val());
  }

});

$( "#chart-type" ).change(function() {
  changeIframe();
  addFieldsT($('#chart-type').val());
});

$("#chart-field, #chart-project").change(function() {
  changeIframe();
});


function addFieldsT(type, field = "default", proj = "default"){
  $("#chart-field").empty();
  $("#chart-project").empty();

  $.each({
    'bar': {'top': '-97px', 'height': '520px'},
    'pie': {'top': '-97px', 'height': '520px'},
    'tab': {'top': '-97x', 'height': '520px'},
    'dash': {'top': '-107px', 'height': '510px'},
  }, function (chart_type, dims) {
    if (type == chart_type){
      $('iframe').css('top', dims['top']);
      $('.datawrap').css('height', dims['height']);
    }
  });

  if(field == "default" && proj == "default"){
    if (type == "bar"){
      $('iframe').attr("src", bar_ef_All);
      //Add bar fields to dropdown
      for (var key in barFields){
        $("#chart-field").append(barFields[key]);
      }

    }
    if (type == "pie"){
      $('iframe').attr("src", pie_ef_All);
      //Add pie fields to dropdown
      for (var key in pieFields){
        $("#chart-field").append(pieFields[key]);
      }
    }
    if (type == "tab"){
      $('iframe').attr("src", tab_ps_All);
      //Add table fields to dropdown
      for (var key in tabFields){
        $("#chart-field").append(tabFields[key]);
      }
    }
    if (type == "dash"){
      $('iframe').attr("src", dash_main_All);
      //Add table fields to dropdown
      for (var key in dashFields){
        $("#chart-field").append(dashFields[key]);
      }
    }
    //Add projects to dropdown
    for (var key in projects){
      $("#chart-project").append(projects[key]);
    }
  }
  else{
    $("#chart-type").empty();
    $.each({
      'bar': barFields,
      'pie': pieFields,
      'tab': tabFields,
      'dash': dashFields
    }, function (chart_type, fields) {
      if (type == chart_type) {
        $("#chart-field").append(fields[field]);
        for (var key in fields){
          if(fields[key] != fields[field]){
            $("#chart-field").append(fields[key]);
          }
        }
        $.each({
          'tab': 'Table',
          'pie': 'Pie',
          'bar': 'Bar',
          'dash': 'Dashboard'
        }, function (value, label) {
          $("#chart-type").append(`<option selected=${'selected' ? value == type : ''} value='${value}'>${label}</option>`);
        });
      }
    });
    //Add projects to dropdown
    $("#chart-project").append(projects[proj]);
    for (var key in projects){
      if(projects[key] != projects[proj]){
        $("#chart-project").append(projects[key]);
      }
    }
  }
}


function changeIframe(){
  var type = $('#chart-type').val();
  var field = $('#chart-field').val();
  var proj = $('#chart-project').val().split(" ");
  proj = proj[0];
  if(proj == "Voyages:"){
    proj = "Voyages";
  }
  var fig = type.concat("_", field, "_", proj);
  fig = eval('`'+fig+'`');
  $('iframe').attr("src", window[fig]);

  //change url
  search_params.set('type', type);
  search_params.set('field', field);
  search_params.set('proj', proj);

  url.search = search_params.toString();
  var new_url = url.toString();
  window.history.replaceState(0, "", new_url);


  //Add Dynamic 'View Project Records' Link
  if(proj !== "All"){
     document.getElementById("search-records-link").style.display = "block";
  }
  else{
     document.getElementById("search-records-link").style.display = "none";
  }

  var projLink = document.getElementById("search-records-link");
  if(proj == "Louisiana"){
    projLink.setAttribute('href', BASE_URL+'search/all?projects=Louisiana+Slave+Database&limit=20&offset=0&sort_field=label.sort&display=people');
  }
  if(proj == "Free"){
    projLink.setAttribute('href', BASE_URL+'search/all?projects=Free+Blacks+Database+New+Orleans+1840-1860&limit=20&offset=0&sort_field=label.sort&display=people');
  }
  if(proj == "Voyages"){
    projLink.setAttribute('href', BASE_URL+'search/all?projects=Voyages%3A+The+Trans-Atlantic+Slave+Trade+Database&limit=20&offset=0&sort_field=label.sort&display=people');
  }
  if(proj == "Legacies"){
    projLink.setAttribute('href', BASE_URL+'search/all?projects=Legacies+of+British+Slave-ownership&limit=20&offset=0&sort_field=label.sort&display=people');
  }
  if(proj == "Hutchins"){
    projLink.setAttribute('href', BASE_URL+'search/all?projects=Hutchins+Center+for+African+%26+African+American+Research=&limit=20&offset=0&sort_field=label.sort&display=people');
  }
  if(proj == "Contested"){
    projLink.setAttribute('href', BASE_URL+'search/all?projects=Contested+Freedom&limit=20&offset=0&sort_field=label.sort&display=people');
  }
  if(proj == "Maranhão"){
    projLink.setAttribute('href', BASE_URL+'search/all?projects=Maranhão+Inventories+Slave+Database&limit=20&offset=0&sort_field=label.sort&display=people');
  }
  if(proj == "Family"){
    projLink.setAttribute('href', BASE_URL+'search/all?projects=Family+Search&limit=20&offset=0&sort_field=label.sort&display=people');
  }
}
